import{a as G,b as p,c as k,d as z,e as B}from"./chunk-5EWNX6BU.js";import{a as R,b as D,c as j,d as P,e as T,f as q,h as Q,i as F,j as H,k as O}from"./chunk-STWFHNWT.js";import{C as m,D as f,I as g,K as d,M as s,N as n,O as c,P as C,Q as _,R as x,S as E,T as M,U as L,V as h,W as l,ea as A,fa as N,na as V,oa as I,p as v,q as b,s as S,t as y,w}from"./chunk-ELGTNSRH.js";function U(i,t){}function W(i,t){i&1&&(s(0,"div",6),c(1,"app-loading-spinner"),n())}function X(i,t){if(i&1){let u=C();s(0,"div",7)(1,"div",8)(2,"h4",9),l(3,"Login"),n(),s(4,"form",10,11),_("ngSubmit",function(){S(u);let e=h(5),r=x();return y(r.onSubmit(e))}),s(6,"div",12)(7,"label",13),l(8,"Email"),n(),c(9,"input",14),n(),s(10,"div",12)(11,"label",15),l(12,"Password"),n(),c(13,"input",16),n(),s(14,"div",17)(15,"button",18),l(16,"Login"),n()()()()()}if(i&2){let u=h(5);m(15),d("disabled",!u.valid)}}var J=(()=>{let t=class t{constructor(o,e){this.authService=o,this.router=e,this.isLoading=!1}onSubmit(o){if(!o.valid)return;let e=o.value.email,r=o.value.password;this.isLoading=!0,this.authService.login(e,r).subscribe({next:a=>{console.log(a),this.isLoading=!1,this.router.navigate(["/shopping-list"])},error:a=>{this.isLoading=!1,this.showErrorAlert(a)}}),o.reset()}showErrorAlert(o){let e=this.alertHost.viewContainerRef.createComponent(G);e.instance.message=o,this.closeSub=e.instance.close.subscribe(()=>{this.closeSub.unsubscribe(),this.alertHost.viewContainerRef.clear()})}ngOnDestroy(){this.closeSub&&this.closeSub.unsubscribe()}};t.\u0275fac=function(e){return new(e||t)(f(k),f(V))},t.\u0275cmp=v({type:t,selectors:[["app-auth"]],viewQuery:function(e,r){if(e&1&&E(p,7),e&2){let a;M(a=L())&&(r.alertHost=a.first)}},decls:6,vars:2,consts:[["appPlaceholder",""],[1,"container"],[1,"row","justify-content-center","align-items-center",2,"height","100vh"],[1,"col-md-6","col-lg-4"],["style","text-align: center;",4,"ngIf"],["class","card border-0 shadow rounded-3",4,"ngIf"],[2,"text-align","center"],[1,"card","border-0","shadow","rounded-3"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","text","name","email","ngModel","","required","","email","",1,"form-control"],["for","password"],["type","password","name","password","ngModel","","required","","minlength","6",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,r){e&1&&(g(0,U,0,0,"ng-template",0),s(1,"div",1)(2,"div",2)(3,"div",3),g(4,W,2,0,"div",4)(5,X,17,1,"div",5),n()()()),e&2&&(m(4),d("ngIf",r.isLoading),m(),d("ngIf",!r.isLoading))},dependencies:[q,R,D,j,Q,H,F,T,P,A,z,p],styles:[".d-grid[_ngcontent-%COMP%]{margin-top:10px}"]});let i=t;return i})();var ce=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b({type:t}),t.\u0275inj=w({imports:[O,N,I.forChild([{path:"",component:J}]),B]});let i=t;return i})();export{ce as AuthModule};
